import{i as k,h as I}from"./dom-5b7af1bf.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.97
 */const f="hidden-form-input";function h(e){return"checked"in e}const m=new WeakMap,v=new WeakSet;function S(e,t){const r="calciteInternalFormComponentRegister";let n=!1;return e.addEventListener(r,s=>{n=s.composedPath().some(d=>v.has(d)),s.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(r,{bubbles:!0,composed:!0})),n}function y(e){const{formEl:t}=e;return t?("requestSubmit"in t?t.requestSubmit():t.submit(),!0):!1}function L(e){var t;(t=e.formEl)===null||t===void 0||t.reset()}function V(e){const{el:t,value:r}=e,n=k(t,"form");if(!n||S(n,t))return;e.formEl=n,e.defaultValue=r,h(e)&&(e.defaultChecked=e.checked);const s=(e.onFormReset||R).bind(e);n.addEventListener("reset",s),m.set(e.el,s),v.add(t)}function R(){if(h(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function p(e){const{el:t,formEl:r}=e;if(!r)return;const n=m.get(t);r.removeEventListener("reset",n),m.delete(t),e.formEl=null,v.delete(t)}function q(e,t){e.defaultValue=t}const C=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},F=e=>e.removeEventListener("change",C);function H(e){const{el:t,formEl:r,name:n,value:s}=e,{ownerDocument:d}=t,u=t.querySelectorAll(`input[slot="${f}"]`);if(!r||!n){u.forEach(a=>{F(a),a.remove()});return}const i=Array.isArray(s)?s:[s],c=[],E=new Set;u.forEach(a=>{const o=i.find(g=>g==a.value);o!=null?(E.add(o),b(e,a,o)):c.push(a)});let l;i.forEach(a=>{if(E.has(a))return;let o=c.pop();o||(o=d.createElement("input"),o.slot=f),l||(l=d.createDocumentFragment()),l.append(o),o.addEventListener("change",C),b(e,o,a)}),l&&t.append(l),c.forEach(a=>{F(a),a.remove()})}function b(e,t,r){var n;const{defaultValue:s,disabled:d,name:u,required:i}=e;t.defaultValue=s,t.disabled=d,t.name=u,t.required=i,t.tabIndex=-1,h(e)?(t.defaultChecked=e.defaultChecked,t.value=e.checked?r||"on":"",!d&&!e.checked&&(t.disabled=!0)):t.value=r||"",(n=e.syncHiddenFormInput)===null||n===void 0||n.call(e,t)}const P=({component:e})=>(H(e),I("slot",{name:f}));export{P as H,q as a,V as c,p as d,L as r,y as s};
